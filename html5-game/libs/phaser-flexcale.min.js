Phaser.Plugin.Flexcale=function(e,t){Phaser.Plugin.call(this,e,t),this.options={resolution:1,centering:!0,upscaling:!0,minWidth:480,minHeight:720,maxWidth:null,maxHeight:null},this.parent=document.getElementById(this.game.parent),this.parent.style.width="100%",this.parent.style.height="100%",this.scale=1,this.onResize=new Phaser.Signal,this.game.scale.scaleMode=Phaser.ScaleManager.HEADLESS;var s=this;window.addEventListener("resize",function(){s.resize()}),this.game.input.scale.setTo=function(){Phaser.Point.prototype.setTo.apply(this,arguments),this.x*=s.options.resolution,this.y*=s.options.resolution}},Phaser.Plugin.Flexcale.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.Flexcale.prototype.constructor=Phaser.Plugin.SamplePlugin,Phaser.Plugin.Flexcale.prototype.setOptions=function(e,t){for(var s in e)this.options[s]=e[s];!0!==t&&this.resize()},Phaser.Plugin.Flexcale.prototype.resize=function(){var e=this.options,t=this.parent.offsetWidth,s=this.parent.offsetHeight,i=t/e.minWidth,n=s/e.minHeight;this.scale=i<n?i:n,this.scale>1&&!e.upscaling&&(this.scale=1),"number"==typeof e.maxWidth&&(t=Math.min(t,e.maxWidth*this.scale)),"number"==typeof e.maxHeight&&(s=Math.min(s,e.maxHeight*this.scale)),t*=e.resolution,s*=e.resolution,this.scale*=e.resolution,this.game.scale.setGameSize(t,s),this.cssTransform(this.game.canvas,"scale("+1/e.resolution+")","center center"),e.centering&&(this.parent.style.marginLeft=(this.parent.offsetWidth-t)/2+"px",this.parent.style.marginTop=(this.parent.offsetHeight-s)/2+"px"),this.onResize.dispatch(this.scale)},Phaser.Plugin.Flexcale.prototype.cssTransform=function(e,t,s){e&&e.style&&(e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t,e.style.webkitTransformOrigin=s,e.style.MozTransformOrigin=s,e.style.msTransformOrigin=s,e.style.transformOrigin=s)};